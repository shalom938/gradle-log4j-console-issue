/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'org.test.java-application-conventions'
    id 'org.javamodularity.moduleplugin' version '1.8.10'
}

//disable java modularity as documented by org.javamodularity.moduleplugin
java {
    modularity.inferModulePath = false
}
tasks.named('compileJava') {
    modularity.inferModulePath = false
}


dependencies {
    implementation 'org.apache.commons:commons-text'
    implementation project(':utilities')

    implementation 'org.apache.logging.log4j:log4j-api'
    implementation 'org.apache.logging.log4j:log4j-core'
    implementation 'org.apache.logging.log4j:log4j-slf4j-impl'
}

application {
    mainModule = 'sample.app'
    mainClass = 'org.test.app.App'
}

test {
    moduleOptions {
        //for testing , with -PdisableModulePlugin moduleplugin is disabled
        //and the test suite will run with classpath in which case all works as expected.
        runOnClasspath = project.hasProperty('disableModulePlugin')
    }
}